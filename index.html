<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zurich Takaful Info App</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(180deg, #0d47a1, #1976d2);
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    h1 {
      margin-top: 20px;
    }
    select, button, input, textarea {
      padding: 10px 15px;
      margin: 8px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
    }
    select {
      background: white;
      color: #0d47a1;
    }
    #solatResult, #cuacaResult {
      margin: 15px auto;
      background: rgba(255,255,255,0.1);
      border-radius: 12px;
      padding: 10px;
      width: 90%;
    }
    .produk-section {
      margin-top: 30px;
      padding: 10px;
    }
    .produk-btn {
      display: block;
      background: white;
      color: #0d47a1;
      border-radius: 10px;
      margin: 10px auto;
      padding: 12px;
      width: 90%;
      font-weight: bold;
      transition: 0.2s;
    }
    .produk-btn:hover {
      background: #bbdefb;
      transform: scale(1.03);
    }
    /* Modal */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      visibility: hidden;
      opacity: 0;
      transition: 0.3s;
      z-index: 1000;
    }
    .modal.show {
      visibility: visible;
      opacity: 1;
    }
    .modal-content {
      background: white;
      color: #0d47a1;
      border-radius: 15px;
      padding: 20px;
      width: 90%;
      max-width: 420px;
      text-align: left;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    .close {
      float: right;
      font-weight: bold;
      cursor: pointer;
      color: #1976d2;
    }
    .close:hover {
      color: red;
    }
    #quoteForm {
      margin-top: 15px;
      display: flex;
      flex-direction: column;
    }
    #quoteForm input, #quoteForm textarea {
      margin: 6px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 8px;
      font-size: 15px;
      width: 100%;
    }
    #quoteForm button {
      background: #1976d2;
      color: white;
      font-weight: bold;
    }
    #quoteForm button:hover {
      background: #0d47a1;
    }
    footer {
      margin-top: 30px;
      font-size: 14px;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <h1>üïå Waktu Solat & Cuaca</h1>
  <select id="negeriSelect">
    <option value="">-- Pilih Negeri --</option>
  </select>
  <div id="solatResult">Sila pilih negeri untuk lihat waktu solat.</div>
  <div id="cuacaResult">Memuatkan cuaca...</div>

  <div class="produk-section">
    <h2>üíº Produk Zurich Takaful</h2>
    <button class="produk-btn" data-produk="zdrive">Z-Drive Assist</button>
    <button class="produk-btn" data-produk="zmotor">Z-Motor</button>
    <button class="produk-btn" data-produk="zrider">Z-Rider</button>
    <button class="produk-btn" data-produk="zpa">Personal Accident</button>
    <button class="produk-btn" data-produk="ztravel">Z-Travel</button>
    <button class="produk-btn" data-produk="zfirebiz">Fire Takaful (Business)</button>
  </div> 
  <!-- =========================
üéØ SEKSYEN KUiz ZURICH TAKAFUL
========================= -->
<section id="quizSection" class="card">
  <div class="card-header">
    <h2>üéØ Kuiz Zurich Takaful</h2>
  </div>

  <div id="quizBox" class="quiz-box">
    <p id="quizQuestion" class="quiz-question">Uji pengetahuan anda tentang takaful!</p>
    <div id="quizOptions" class="quiz-options"></div>
    <button id="startQuiz" class="btn">Mula Kuiz</button>
  </div>
</section>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <div id="produkInfo"></div>

      <form id="quoteForm">
        <h4>üìÑ Request Quotation</h4>
        <input type="text" id="nama" placeholder="Nama penuh" required />
        <input type="tel" id="telefon" placeholder="No. Telefon" required />
        <input type="email" id="email" placeholder="Email" required />
        <textarea id="mesej" placeholder="Mesej tambahan (optional)" rows="3"></textarea>
        <button type="submit">Hantar Permohonan</button>
      </form>
  </div>
  </div>

  <footer>¬© <span id="year"></span> BroChat AzA Takaful Zurich</footer>
<script>
// ======================
// üïå WAKTU SOLAT (eSolat JAKIM)
// ======================
document.getElementById("negeriSelect").addEventListener("change", async ()=>{
  const zone = document.getElementById("negeriSelect").value;
  const result = document.getElementById("solatResult");
  if(!zone) return;
  result.textContent = "‚è≥ Memuatkan waktu solat...";
  try {
    const res = await fetch(`https://www.e-solat.gov.my/index.php?r=esolatApi/takwimsolat&period=today&zone=${zone}`);
    const data = await res.json();
    const d = data.prayerTime[0];
    result.innerHTML = `
      üåÖ Subuh: <b>${d.fajr}</b><br>
      ‚òÄÔ∏è Zohor: <b>${d.dhuhr}</b><br>
      üåá Asar: <b>${d.asr}</b><br>
      üåÜ Maghrib: <b>${d.maghrib}</b><br>
      üåÉ Isyak: <b>${d.isha}</b><br>
      üìÖ ${d.date}
    `;
  } catch (err) {
    console.error(err);
    result.textContent = "‚ùå Gagal memuatkan waktu solat (API eSolat).";
  }
});

// ======================
// üéØ KUIZ ZURICH TAKAFUL
// ======================
const quizData = [
  {
    question: "Apakah perlindungan utama Z-Motor?",
    options: [
      "Kemalangan, kebakaran & kecurian",
      "Hanya kemalangan kecil",
      "Cermin depan sahaja",
      "Servis tahunan percuma"
    ],
    answer: 0
  },
  {
    question: "Z-Rider sesuai untuk siapa?",
    options: [
      "Penunggang motosikal",
      "Pemilik lori",
      "Pemilik rumah",
      "Peniaga restoran"
    ],
    answer: 0
  },
  {
    question: "Z-Drive Assist menawarkan bantuan apa?",
    options: [
      "Bantuan tepi jalan & towing",
      "Takaful nyawa",
      "Diskaun servis tayar",
      "Insurans rumah"
    ],
    answer: 0
  },
  {
    question: "Skuter boleh dilindungi di bawah produk mana?",
    options: [
      "Z-Rider",
      "Z-Drive Assist",
      "Z-Travel",
      "Z-FireBiz"
    ],
    answer: 0
  }
];

let currentQuiz = 0;
let score = 0;

const quizBox = document.getElementById("quizBox");
const quizQuestion = document.getElementById("quizQuestion");
const quizOptions = document.getElementById("quizOptions");
const startBtn = document.getElementById("startQuiz");

function loadQuiz() {
  const q = quizData[currentQuiz];
  quizQuestion.textContent = q.question;
  quizOptions.innerHTML = "";
  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.className = "produk-btn";
    btn.onclick = () => checkAnswer(i);
    quizOptions.appendChild(btn);
  });
}

function checkAnswer(selected) {
  if (selected === quizData[currentQuiz].answer) score++;
  currentQuiz++;
  if (currentQuiz < quizData.length) {
    loadQuiz();
  } else {
    quizBox.innerHTML = `
      <h3>üéâ Kuiz Tamat!</h3>
      <p>Skor anda: <b>${score}/${quizData.length}</b></p>
      <button class="produk-btn" onclick="restartQuiz()">Main Semula</button>
    `;
  }
}

function restartQuiz() {
  currentQuiz = 0;
  score = 0;
  quizBox.innerHTML = `
    <p id="quizQuestion" class="quiz-question">Uji pengetahuan anda tentang takaful!</p>
    <div id="quizOptions" class="quiz-options"></div>
    <button id="startQuiz" class="btn">Mula Kuiz</button>
  `;
  document.getElementById("startQuiz").addEventListener("click", startQuiz);
}

function startQuiz() {
  startBtn.style.display = "none";
  loadQuiz();
}

startBtn.addEventListener("click", startQuiz);
</script>
  
</body>
</html>
